<!DOCTYPE html>
<html lang="vi-vn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bu·ªïi 6 (09/12) ‚Äì L·∫≠p tr√¨nh socket UDP | Blog L·∫≠p Tr√¨nh M·∫°ng</title>
    
    <meta name="description" content="Tri·ªÉn khai DatagramSocket, x·ª≠ l√Ω timeout v√† b·ªï sung ACK th·ªß c√¥ng." />
    
      
      
        <meta name="keywords" content="L·∫≠p tr√¨nh m·∫°ng, Socket, TCP, UDP, Multithreading, Blog sinh vi√™n">
      
    
    <meta name="theme-color" content="#3b82f6" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@600&display=swap" rel="stylesheet" />
    
    <link rel="stylesheet" href="/Blog_Myself/css/custom.min.9909af19f064160acca69d28103cdb7ce4c9eeea644a98c15e73f4d985199a88.css" integrity="sha256-mQmvGfBkFgrMpp0oEDzbfOTJ7upkSpjBXnP02YUZmog=" />
    
  </head>
  <body data-theme="light">
    <div class="site-wrapper">
      <header class="site-header">
        <div class="container site-header__inner">
          <a class="logo" href="https://TrungNguyenZzZ.github.io/Blog_Myself/">
            <span>Blog L·∫≠p Tr√¨nh M·∫°ng</span>
          </a>
          <nav>
            <button class="nav-toggle" aria-label="M·ªü menu" data-nav-toggle>‚ò∞</button>
            
            <div class="nav-links">
              
                
                
                  
                  <a href="https://TrungNguyenZzZ.github.io/Blog_Myself/#hero">Home</a>
                
              
                
                
                  
                  <a href="https://TrungNguyenZzZ.github.io/Blog_Myself/blog/">Blog</a>
                
              
                
                
                  
                  <a href="https://TrungNguyenZzZ.github.io/Blog_Myself/course/">Course</a>
                
              
                
                
                  
                  <a href="https://TrungNguyenZzZ.github.io/Blog_Myself/about/">About</a>
                
              
                
                
                  
                  <a href="https://TrungNguyenZzZ.github.io/Blog_Myself/contact/">Contact</a>
                
              
            </div>
          </nav>
          <div class="nav-actions">
            <button class="theme-switch" aria-label="Toggle theme" data-theme-toggle>üåô</button>
            
              <a class="button button--primary" href="/Blog_Myself/contact/">Li√™n h·ªá</a>
            
          </div>
        </div>
      </header>

      <main class="container">
        
  
  <section class="post-hero">
    
      <span class="badge">Bu·ªïi 6</span>
    
    <h1 class="section__heading">Bu·ªïi 6 (09/12) ‚Äì L·∫≠p tr√¨nh socket UDP</h1>
    <p class="post-hero__meta">
      09 Dec 2024
       ¬∑ 2 ph√∫t ƒë·ªçc
       ¬∑ 3 tags
    </p>
  </section>

  <section class="section">
    
      
      
        
      
      <img src="/Blog_Myself/images/buoi6.jpg" alt="Bu·ªïi 6 (09/12) ‚Äì L·∫≠p tr√¨nh socket UDP" loading="lazy" style="width:100%;border-radius:var(--radius-xl);box-shadow:var(--shadow-soft);margin-bottom:2rem;" />
    
    <article class="post-content">
      
        <div class="session-card">
          <h3>T√≥m t·∫Øt bu·ªïi 6</h3>
          <ul>
            <li><strong>Ng√†y h·ªçc:</strong> 09/12/2024</li>
            <li><strong>Tags:</strong> UDP, Datagram, Timeout</li>
          </ul>
        </div>
      
      <h2 id="m·ª•c-ti√™u-bu·ªïi-h·ªçc">M·ª•c ti√™u bu·ªïi h·ªçc</h2>
<ul>
<li>T·∫°o UDP server v√† client trao ƒë·ªïi datagram ng·∫Øn.</li>
<li>Thi·∫øt l·∫≠p timeout ƒë·ªÉ kh√¥ng b·ªã treo khi m·∫•t g√≥i.</li>
<li>C√†i ƒë·∫∑t c∆° ch·∫ø ACK/Retry ƒë∆°n gi·∫£n cho th√¥ng ƒëi·ªáp quan tr·ªçng.</li>
<li>Qu·∫£n l√Ω k√≠ch th∆∞·ªõc g√≥i ƒë·ªÉ tr√°nh ph√¢n m·∫£nh.</li>
<li>ƒê√°nh gi√° ∆∞u/nh∆∞·ª£c c·ªßa UDP so v·ªõi TCP trong b√†i lab.</li>
</ul>
<h2 id="ki·∫øn-th·ª©c-ch√≠nh">Ki·∫øn th·ª©c ch√≠nh</h2>
<ol>
<li><code>DatagramSocket</code>, <code>DatagramPacket</code> v√† c√°ch t√°i s·ª≠ d·ª•ng buffer.</li>
<li>UDP gi·ªØ nguy√™n ranh gi·ªõi message (message boundary) nh∆∞ng kh√¥ng ƒë·∫£m b·∫£o th·ª© t·ª±.</li>
<li>K√≠ch th∆∞·ªõc g√≥i an to√†n ~1400 bytes ƒë·ªÉ tr√°nh ph√¢n m·∫£nh trong m·∫°ng LAN.</li>
<li><code>setSoTimeout()</code> v√† c∆° ch·∫ø g·ª≠i l·∫°i khi kh√¥ng nh·∫≠n ƒë∆∞·ª£c ACK.</li>
<li>C√°ch nh·∫≠n bi·∫øt client b·∫±ng c·∫∑p ƒë·ªãa ch·ªâ IP + port.</li>
</ol>
<h2 id="ph√¢n-t√≠ch--gi·∫£i-th√≠ch">Ph√¢n t√≠ch &amp; gi·∫£i th√≠ch</h2>
<p>ƒêi·ªÉm kh√≥ nh·∫•t l√† UDP kh√¥ng c√≥ k·∫øt n·ªëi c·ªë ƒë·ªãnh, n√™n server ph·∫£i t·ª± qu·∫£n l√Ω tr·∫°ng th√°i d·ª±a tr√™n IP/port g·ª≠i ƒë·∫øn. N·∫øu client ƒë·ªïi port, server coi nh∆∞ m·ªôt phi√™n m·ªõi. Ngo√†i ra, g√≥i tin c√≥ th·ªÉ m·∫•t ho·∫∑c ƒë·∫øn tr·ªÖ, v√¨ v·∫≠y c·∫ßn c√≥ s·ªë th·ª© t·ª± (sequence) v√† ACK ƒë·ªÉ ƒë·∫£m b·∫£o d·ªØ li·ªáu quan tr·ªçng.</p>
<p>Trong th√≠ nghi·ªám, nh√≥m m√¨nh gi·ªõi h·∫°n k√≠ch th∆∞·ªõc g√≥i ƒë·ªÉ tr√°nh ph√¢n m·∫£nh. Khi g√≥i b·ªã ph√¢n m·∫£nh, ch·ªâ c·∫ßn m·∫•t m·ªôt m·∫£nh l√† to√†n b·ªô g√≥i b·ªã m·∫•t. V√¨ v·∫≠y, vi·ªác chia nh·ªè d·ªØ li·ªáu th√†nh nhi·ªÅu g√≥i nh·ªè v√† c√≥ s·ªë th·ª© t·ª± gi√∫p vi·ªác gh√©p l·∫°i ·ªïn ƒë·ªãnh h∆°n.</p>
<h2 id="v√≠-d·ª•-minh-h·ªça--code">V√≠ d·ª• minh h·ªça / Code</h2>
<p>Server ph·∫£n h·ªìi ACK k√®m s·ªë th·ª© t·ª±:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> buffer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[</span>1024<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span> (<span style="color:#66d9ef">var</span> socket <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> java.<span style="color:#a6e22e">net</span>.<span style="color:#a6e22e">DatagramSocket</span>(10002)) {
</span></span><span style="display:flex;"><span>  socket.<span style="color:#a6e22e">setSoTimeout</span>(3000);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> packet <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> java.<span style="color:#a6e22e">net</span>.<span style="color:#a6e22e">DatagramPacket</span>(buffer, buffer.<span style="color:#a6e22e">length</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">true</span>) {
</span></span><span style="display:flex;"><span>    socket.<span style="color:#a6e22e">receive</span>(packet);
</span></span><span style="display:flex;"><span>    String message <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String(packet.<span style="color:#a6e22e">getData</span>(), 0, packet.<span style="color:#a6e22e">getLength</span>(), java.<span style="color:#a6e22e">nio</span>.<span style="color:#a6e22e">charset</span>.<span style="color:#a6e22e">StandardCharsets</span>.<span style="color:#a6e22e">UTF_8</span>);
</span></span><span style="display:flex;"><span>    String<span style="color:#f92672">[]</span> parts <span style="color:#f92672">=</span> message.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;\\|&#34;</span>, 2);
</span></span><span style="display:flex;"><span>    String seq <span style="color:#f92672">=</span> parts<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>    String payload <span style="color:#f92672">=</span> parts.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> 1 <span style="color:#f92672">?</span> parts<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> : <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>    String replyText <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ACK|&#34;</span> <span style="color:#f92672">+</span> seq <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;|&#34;</span> <span style="color:#f92672">+</span> payload;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> reply <span style="color:#f92672">=</span> replyText.<span style="color:#a6e22e">getBytes</span>(java.<span style="color:#a6e22e">nio</span>.<span style="color:#a6e22e">charset</span>.<span style="color:#a6e22e">StandardCharsets</span>.<span style="color:#a6e22e">UTF_8</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> response <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> java.<span style="color:#a6e22e">net</span>.<span style="color:#a6e22e">DatagramPacket</span>(reply, reply.<span style="color:#a6e22e">length</span>, packet.<span style="color:#a6e22e">getAddress</span>(), packet.<span style="color:#a6e22e">getPort</span>());
</span></span><span style="display:flex;"><span>    socket.<span style="color:#a6e22e">send</span>(response);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Client c√≥ th·ªÉ g·ª≠i <code>&quot;1|PING&quot;</code> v√† ch·ªù ph·∫£n h·ªìi <code>&quot;ACK|1|PING&quot;</code> ƒë·ªÉ bi·∫øt g√≥i ƒë√£ ƒë·∫øn.</p>
<h2 id="t·ªïng-k·∫øt">T·ªïng k·∫øt</h2>
<ul>
<li>V·ªõi UDP ph·∫£i t·ª± ƒë·ªãnh nghƒ©a ƒë·ªô tin c·∫≠y n·∫øu d·ªØ li·ªáu quan tr·ªçng.</li>
<li>K√≠ch th∆∞·ªõc g√≥i nh·ªè gi√∫p gi·∫£m r·ªßi ro m·∫•t g√≥i do ph√¢n m·∫£nh.</li>
<li>Bu·ªïi sau s·∫Ω gh√©p ki·∫øn th·ª©c ƒëa lu·ªìng ƒë·ªÉ c·∫£i thi·ªán throughput.</li>
</ul>

    </article>

    
      <div class="project-stack">
        
          <span class="chip">UDP</span>
        
          <span class="chip">Datagram</span>
        
          <span class="chip">Timeout</span>
        
      </div>
    

    <div class="comment-box" id="comments">
      <h3>Th·∫£o lu·∫≠n</h3>
      
        <p>B·∫°n c√≥ th·ªÉ b·∫≠t h·ªá th·ªëng b√¨nh lu·∫≠n (Disqus/Giscus) b·∫±ng c√°ch c·∫•u h√¨nh trong <code>config.toml</code>.</p>
      
    </div>
  </section>

  
  
    <section class="section">
      <h2 class="section__heading">B√†i vi·∫øt li√™n quan</h2>
      <div class="related-grid">
        
          <article class="card">
            <h3>Bu·ªïi 8 (23/12) ‚Äì Multicast UDP &amp; Java RMI</h3>
            <p>K·∫øt h·ª£p MulticastSocket cho th√¥ng b√°o nh√≥m v√† tri·ªÉn khai d·ªãch v·ª• Java RMI ƒë∆°n gi·∫£n.</p>
            <a class="button button--ghost" href="/Blog_Myself/blog/buoi-8-multicast-udp-va-java-rmi/">ƒê·ªçc ti·∫øp ‚Üí</a>
          </article>
        
          <article class="card">
            <h3>Bu·ªïi 2 (18/11) ‚Äì Ki·∫øn th·ª©c n·ªÅn t·∫£ng</h3>
            <p>√în l·∫°i m√¥ h√¨nh OSI/TCP-IP, ph√¢n bi·ªát TCP v√† UDP, gi·ªõi thi·ªáu Socket API.</p>
            <a class="button button--ghost" href="/Blog_Myself/blog/buoi-2-kien-thuc-nen-tang/">ƒê·ªçc ti·∫øp ‚Üí</a>
          </article>
        
      </div>
    </section>
  

      </main>

      <footer class="footer">
        <div class="container">
          <div class="footer__grid">
            <div>
              <h3>Blog L·∫≠p Tr√¨nh M·∫°ng</h3>
              <p>Blog ghi ch√©p l√Ω thuy·∫øt, b√†i lab v√† kinh nghi·ªám m√¥n L·∫≠p Tr√¨nh M·∫°ng ph·ª•c v·ª• vi·ªác h·ªçc v√† b√°o c√°o cu·ªëi k·ª≥.</p>
            </div>
            <div>
              <h4>K·∫øt n·ªëi</h4>
              <div class="footer__links">
                <a href="https://www.linkedin.com" target="_blank" rel="noopener">LinkedIn</a>
                <a href="https://github.com/TrungNguyenZzZ" target="_blank" rel="noopener">GitHub</a>
                <a href="https://twitter.com" target="_blank" rel="noopener">Twitter</a>
                <a href="https://facebook.com" target="_blank" rel="noopener">Facebook</a>
              </div>
            </div>
            <div class="contact-card" id="contact">
              <h4>Li√™n h·ªá</h4>
              <a href="mailto:21120456@student.university.edu.vn">Email</a>
              <a href="https://github.com/TrungNguyenZzZ" target="_blank" rel="noopener">GitHub Projects</a>
            </div>
          </div>
          <p class="footer__copy">¬© 2025 Nguy·ªÖn T√†i Trung ¬∑ All rights reserved.</p>
        </div>
      </footer>
    </div>

    
    <script src="/Blog_Myself/js/app.min.04f121891eebbd5357d564f597596f68ec2f8a77f09481916b76729e968ce3fb.js" integrity="sha256-BPEhiR7rvVNX1WT1l1lvaOwvinfwlIGRa3ZynpaM4/s=" defer></script>
    
    
  </body>
</html>
